{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Footer.js","components/Filter.js","components/SuccessAlert.js","components/ErrorAlert.js","services/phone.js","components/layout/Navbar.js","App.js","index.js"],"names":["Person","person","onClick","className","name","style","float","number","Persons","persons","map","key","PersonForm","props","onSubmit","e","value","newName","type","onChange","handleChangeName","target","required","newNumber","handleChangeNumber","Footer","Filter","searchText","handleChangeSearchText","SuccessAlert","message","length","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorAlert","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Navbar","title","icon","defaultProps","App","useEffect","phoneService","initialPhones","setPersons","catch","error","console","log","useState","setNewName","setNewNumber","setSearchText","successMessage","setSuccessMessage","errorMessage","setErrorMessage","showSuccessMessage","setTimeout","showErrorMessage","preventDefault","includes","window","confirm","filter","changedPerson","returnedPerson","newPersonObject","toLowerCase","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f879cf6.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({person,onClick}) => {\r\n    return (\r\n        <div className='card bg-light'>\r\n            <h4 className='text-gray text-left'>\r\n                {person.name} \r\n\r\n                <button style={{float:'right'}} className='btn btn-danger btn-sm' onClick={()=>onClick(person)}>Delete</button>\r\n            </h4>\r\n            <h4 className='text-gray text-left'>\r\n                {person.number} \r\n            </h4>           \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({persons,onClick}) => {   \r\n\r\n    const rows = () => persons.map(person => \r\n        <Person key={person.name} person={person} onClick={onClick} />        \r\n    );\r\n\r\n    return(\r\n      <>   \r\n     {rows()}  \r\n     </>      \r\n    )\r\n\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = (props) => {    \r\n\r\n    return (\r\n\r\n     <form onSubmit={(e) => props.onSubmit(e)}>\r\n          \r\n        <div>\r\n          Name: <input value={props.newName} type=\"text\"\r\n                       onChange={(e)=> props.handleChangeName(e.target.value)} required/>\r\n        </div>\r\n        \r\n        <div>Number: <input value={props.newNumber} type=\"text\"\r\n                            onChange={(e) => props.handleChangeNumber(e.target.value)} required />\r\n        </div>\r\n         \r\n        <div>\r\n          <button type=\"submit\" className=\"btn-success btn-block\">Add</button>\r\n        </div>\r\n        \r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Footer = () => {    \r\n\r\n    return (\r\n        <div className='text-center text-gray'>\r\n          <br/>\r\n          <em>Copyright &copy; Julius Kimuli</em>\r\n        </div> \r\n      )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n\r\n    return (\r\n     <input value={props.searchText} type=\"text\"\r\n            onChange={(e) => props.handleChangeSearchText(e.target.value)}/>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst SuccessAlert = ({message}) => {\r\n\r\n    const successStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 16,\r\n        borderStyle: 'solid',\r\n        borderRadius: 2,\r\n        padding: 10,\r\n        marginBottom:10\r\n    }\r\n\r\n    if(message.length > 0){\r\n        return (\r\n         <p style={successStyle}> {message}</p>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <> </>\r\n    )\r\n\r\n}\r\n\r\nexport default SuccessAlert","import React from 'react';\r\n\r\nconst ErrorAlert = ({message}) => {\r\n\r\n    const errorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 16,\r\n        borderStyle: 'solid',\r\n        borderRadius: 2,\r\n        padding: 10,\r\n        marginBottom:10\r\n    }\r\n\r\n    if(message.length > 0){\r\n        return (\r\n         <p style={errorStyle}> {message}</p>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <> </>\r\n    )\r\n\r\n}\r\n\r\nexport default ErrorAlert","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response=>response.data)\r\n  \r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteItem = id => {\r\n   const request = axios.delete(`${baseUrl}/${id}`)\r\n   return request.then(response => response.data )\r\n}\r\n\r\nexport default { getAll, create, update, deleteItem }","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Navbar = ({title,icon}) => {\r\n    return (\r\n        <div className='navbar bg-primary'>\r\n            <h2>\r\n                <i className={icon} /> {title}\r\n            </h2>\r\n        </div>\r\n    )\r\n};\r\n\r\nNavbar.propTypes = {\r\n    title:PropTypes.string.isRequired,\r\n    icon:PropTypes.string,\r\n\r\n};\r\n\r\nNavbar.defaultProps = {\r\n    title:'My Phonebook',\r\n    icon:'fas fa-address-book'\r\n};\r\n\r\nexport default Navbar\r\n","import React, { useState,useEffect} from 'react';\r\nimport './App.css';\r\nimport Persons from './components/Persons';\r\nimport PersonForm from './components/PersonForm';\r\nimport Footer from './components/Footer';\r\nimport Filter from './components/Filter';\r\nimport SuccessAlert from './components/SuccessAlert';\r\nimport ErrorAlert from './components/ErrorAlert';\r\nimport phoneService from './services/phone';\r\nimport Navbar from './components/layout/Navbar';\r\n\r\nconst App = () => {\r\n\r\n  useEffect(()=> {\r\n         phoneService.getAll()\r\n           .then(initialPhones => {\r\n            setPersons(initialPhones)\r\n         })\r\n           .catch(error => console.log(error))     \r\n\r\n  },[])\r\n\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber]= useState('')\r\n  const [searchText,setSearchText]= useState('')\r\n  const [successMessage,setSuccessMessage]=useState('')\r\n  const [errorMessage,setErrorMessage] = useState('')\r\n\r\n  const filteredPersons = () => {\r\n    return persons.filter(person => person.name.toLowerCase().includes(searchText.toLowerCase()))\r\n  }  \r\n\r\n  const addName = (e) => {\r\n\r\n      e.preventDefault()      \r\n      const person_names = persons.map(person => person.name)\r\n      \r\n      if(person_names.includes(newName)){\r\n          window.confirm(`${newName} already exists in the phonebook,replace the old number with the new number?`)\r\n          const person = persons.filter(person => person.name === newName)\r\n          console.log(person[0].id)\r\n          const id = person[0].id\r\n          console.log(id)\r\n          const changedPerson = {...person[0], number: newNumber}\r\n          phoneService.update(id,changedPerson)\r\n                      .then(returnedPerson => {\r\n                        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n                        setNewName('')\r\n                        setNewNumber('')\r\n                        showSuccessMessage(`${returnedPerson.name} number changed!`)                        \r\n          }).catch(error => showErrorMessage(error.response.data))\r\n           \r\n      }else{\r\n\r\n        const newPersonObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n\r\n        {/* Post the entered new phone number to the server */}\r\n\r\n        phoneService.create(newPersonObject)\r\n                    .then(returnedPerson => {\r\n                      setPersons([...persons,newPersonObject])\r\n                      setNewName('')\r\n                      setNewNumber('')\r\n                      showSuccessMessage(`${newPersonObject.name} has been added`)\r\n                    })\r\n                    .catch(error => {\r\n                         setNewName('')\r\n                         setNewNumber('')\r\n                         showErrorMessage(error.response.data)\r\n                    })  \r\n\r\n        }     \r\n  }\r\n\r\n  const handleChangeName = value => {\r\n      console.log(value)\r\n      setNewName(value)\r\n  }\r\n  \r\n  const handleChangeNumber = value => {\r\n      console.log(value)\r\n      setNewNumber(value)\r\n  }\r\n\r\n  const handleChangeSearchText = value => {\r\n      setSearchText(value)\r\n  }\r\n\r\n  const deleteName = person => {\r\n     const id = person.id\r\n\r\n     if(window.confirm(`Delete ${person.name}?`)){\r\n      phoneService.deleteItem(id)\r\n      .then(data => {\r\n       setPersons(persons.filter(person => person.id!==id )) \r\n       showSuccessMessage(`${person.name} has been deleted`)\r\n\r\n      })\r\n      .catch(error => showErrorMessage(error.response.data))\r\n     }\r\n     \r\n  }\r\n\r\n  const showSuccessMessage = (message) => {\r\n    setSuccessMessage(message)\r\n    setTimeout(() => {\r\n      setSuccessMessage('')\r\n    }, 3000)\r\n  }\r\n\r\n  const showErrorMessage = (message) => {\r\n    setErrorMessage(message.error)\r\n    setTimeout(() => {\r\n      setErrorMessage('')\r\n    }, 3000)\r\n  }\r\n\r\n  return (\r\n    <div className='App'>\r\n      <Navbar/>\r\n      <div className='container grid-2'>    \r\n\r\n      <div className='card m-1'>\r\n        {successMessage && <p>\r\n        <SuccessAlert message={successMessage}/>\r\n        </p>}\r\n\r\n        {errorMessage && <p>\r\n        <ErrorAlert message={errorMessage}/>\r\n        </p>}\r\n\r\n        <h5>Search Phonebook:</h5>\r\n        <Filter searchText={searchText} handleChangeSearchText={handleChangeSearchText}/>\r\n\r\n        <br/>\r\n\r\n        <h5 className='text-center'>Add New Phone Number:</h5>\r\n          <PersonForm onSubmit={addName}\r\n              handleChangeName={handleChangeName}\r\n              handleChangeNumber={handleChangeNumber}\r\n              newName={newName}\r\n              newNumber={newNumber}/>\r\n\r\n      </div>\r\n\r\n      <div>\r\n        <Persons persons={filteredPersons()} onClick={deleteName}/>\r\n      </div>   \r\n\r\n    </div>\r\n\r\n    <br/>\r\n    <hr/>\r\n    <Footer />     \r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App/>,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}